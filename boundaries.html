<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="Bonfire v0.9.10-cooperation-beta.119">


    <title>Boundaries & Access Control — Bonfire v0.9.10-cooperation-beta.119</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-A9186F02.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://bonfirenetworks.org" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Bonfire" />
        </a>

      <div>
        <a href="https://bonfirenetworks.org" class="sidebar-projectName" translate="no">
Bonfire
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.9.10-cooperation-beta.119
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Bonfire</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/bonfire-networks/bonfire-app/blob/main/docs/topics/BOUNDARIES.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>Boundaries &amp; Access Control</span>
  </h1>

<p>Bonfire's boundaries framework provides a flexible way to control user access to specific actions and data. It ensures that users can only see and do what they're authorized to.</p><h2 id="glossary" class="section-heading">
  <a href="#glossary" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Glossary</span>
</h2>
<table><thead><tr><th style="text-align: left;">Term</th><th style="text-align: left;">Definition</th></tr></thead><tbody><tr><td style="text-align: left;"><strong>User</strong></td><td style="text-align: left;">An individual who interacts with the system.</td></tr><tr><td style="text-align: left;"><strong>Circle</strong></td><td style="text-align: left;">A categorization method for users, allowing users to group other users (e.g., colleagues, friends).</td></tr><tr><td style="text-align: left;"><strong>Verb</strong></td><td style="text-align: left;">An action that a user can perform (e.g., read, reply).</td></tr><tr><td style="text-align: left;"><strong>Permission</strong></td><td style="text-align: left;">A value indicating whether an action is allowed (<code class="inline">true</code>), denied (<code class="inline">false</code>), or <code class="inline">nil</code>.</td></tr><tr><td style="text-align: left;"><strong>Grant</strong></td><td style="text-align: left;">Links a user or circle with a verb and permission.</td></tr><tr><td style="text-align: left;"><strong>ACL</strong></td><td style="text-align: left;">Access Control List, a collection of grants. Also called &quot;boundary&quot; or &quot;boundary preset&quot; in the app.</td></tr><tr><td style="text-align: left;"><strong>Controlled</strong></td><td style="text-align: left;">Links an object to one or more ACLs, to determine access based on the grants.</td></tr><tr><td style="text-align: left;"><strong>Role</strong></td><td style="text-align: left;">A group of verbs linked to a permission.</td></tr></tbody></table><h2 id="users-and-circles" class="section-heading">
  <a href="#users-and-circles" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Users and Circles</span>
</h2>
<p>Circles are a way of categorizing users. Each user can have their own set of circles to categorize other users. Circles allow a user to group work colleagues differently from friends for example, and to allow different interactions for users in each circle or limit content visibility on a per-item basis.</p><h2 id="verbs" class="section-heading">
  <a href="#verbs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Verbs</span>
</h2>
<p>Verbs represent actions users can perform, such as reading a post or replying to a message. Each verb has a unique ID and are defined in configuration.</p><h2 id="permissions" class="section-heading">
  <a href="#permissions" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Permissions</span>
</h2>
<p>A permission is a decision about whether the action may be performed or not. There are 3 possible values:</p><ul><li><code class="inline">true</code>: yes, the action is allowed</li><li><code class="inline">false</code>: no, the action is explicitly denied (i.e. never permit)</li><li><code class="inline">null</code>/<code class="inline">nil</code>: unknown, the action isn't explicitly allowed (defaults to not allowed) </li></ul><h3 id="grants" class="section-heading">
  <a href="#grants" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Grants</span>
</h3>
<p>A <code class="inline">Grant</code> links a <code class="inline">subject</code> (user or circle) with a <code class="inline">Verb</code> and a permission. It defines the access rights for a specific user or circle in relation to a particular action.</p><h2 id="acls" class="section-heading">
  <a href="#acls" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">ACLs</span>
</h2>
<p>An <code class="inline">Acl</code> is a list of <code class="inline">Grant</code>s used to define access permissions for objects. </p><p>Because a user could be in more than one circle and each circle may have a different permission, when a user attempts an action on an object, the system combines all relevant grants to determine the final permission. This combination prioritizes permissions as follows: <code class="inline">false &gt; true &gt; nil</code>, resulting in:</p><table><thead><tr><th style="text-align: left;">input</th><th style="text-align: left;">input</th><th style="text-align: left;">result</th></tr></thead><tbody><tr><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">nil</code></td></tr><tr><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">true</code></td></tr><tr><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr><tr><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">true</code></td></tr><tr><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">true</code></td></tr><tr><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr><tr><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr><tr><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr><tr><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr></tbody></table><p>In simpler terms, a final permission is granted only if the combined result is <code class="inline">true</code>. Think of it as requiring an explicit &quot;yes&quot; for permission, while &quot;no&quot; always takes precedence. Notably, <code class="inline">nil</code> acts as a sort of &quot;weak no,&quot; it can be overridden by a <code class="inline">true</code> but not granting access on its own. This approach provides flexibility for implementing features like user blocking (<code class="inline">false</code> is crucial here).</p><p>For efficiency, <code class="inline">nil</code> is the assumed default and not stored in the database.</p><h2 id="controlled-applying-boundaries-to-an-object" class="section-heading">
  <a href="#controlled-applying-boundaries-to-an-object" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Controlled - Applying boundaries to an object</span>
</h2>
<p>The <code class="inline">Controlled</code> <a href="database.html#multimixins">multimixin</a> link an object to one or more ACLs. This allows for applying multiple boundaries to the same object. In case of overlapping permissions, the system combines them following the logic described above.</p><h3 id="roles" class="section-heading">
  <a href="#roles" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Roles</span>
</h3>
<p>Roles are groups of verbs associated with permissions. While not stored in the database, they are defined at the configuration level to enhance readability and user experience.</p><h2 id="practical-example-surprise-birthday-party" class="section-heading">
  <a href="#practical-example-surprise-birthday-party" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Practical example: Surprise birthday party</span>
</h2>
<p>Let's illustrate how boundaries work with a real-world example: planning a surprise party without the birthday girl finding out.</p><h3 id="1-setting-up-users" class="section-heading">
  <a href="#1-setting-up-users" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">1. Setting up users</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nc">Bonfire.Me.Fake</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">organizer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fake_user!</span><span class="p" data-group-id="5404505322-1">(</span><span class="p" data-group-id="5404505322-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">birthday_girl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fake_user!</span><span class="p" data-group-id="5404505322-2">(</span><span class="p" data-group-id="5404505322-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">friends</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5404505322-3">[</span><span class="n">fake_user!</span><span class="p" data-group-id="5404505322-4">(</span><span class="p" data-group-id="5404505322-4">)</span><span class="p">,</span><span class="w"> </span><span class="n">fake_user!</span><span class="p" data-group-id="5404505322-5">(</span><span class="p" data-group-id="5404505322-5">)</span><span class="p" data-group-id="5404505322-3">]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5404505322-6">[</span><span class="n">fake_user!</span><span class="p" data-group-id="5404505322-7">(</span><span class="p" data-group-id="5404505322-7">)</span><span class="p">,</span><span class="w"> </span><span class="n">fake_user!</span><span class="p" data-group-id="5404505322-8">(</span><span class="p" data-group-id="5404505322-8">)</span><span class="p" data-group-id="5404505322-6">]</span></code></pre><h3 id="2-define-your-circles" class="section-heading">
  <a href="#2-define-your-circles" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">2. Define your Circles</span>
</h3>
<p>Organize users into relevant circles (friends and family).</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">alias</span><span class="w"> </span><span class="nc">Bonfire.Boundaries.Circles</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5486568247-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">friends_circle</span><span class="p" data-group-id="5486568247-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Circles</span><span class="o">.</span><span class="n">create</span><span class="p" data-group-id="5486568247-2">(</span><span class="n">organizer</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5486568247-3">%{</span><span class="ss">named</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5486568247-4">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;friends&quot;</span><span class="p" data-group-id="5486568247-4">}</span><span class="p" data-group-id="5486568247-3">}</span><span class="p" data-group-id="5486568247-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Circles</span><span class="o">.</span><span class="n">add_to_circles</span><span class="p" data-group-id="5486568247-5">(</span><span class="n">friends</span><span class="p">,</span><span class="w"> </span><span class="n">friends_circle</span><span class="p" data-group-id="5486568247-5">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Circles</span><span class="o">.</span><span class="n">is_encircled_by?</span><span class="p" data-group-id="5486568247-6">(</span><span class="nc">List</span><span class="o">.</span><span class="n">first</span><span class="p" data-group-id="5486568247-7">(</span><span class="n">friends</span><span class="p" data-group-id="5486568247-7">)</span><span class="p">,</span><span class="w"> </span><span class="n">friends_circle</span><span class="p" data-group-id="5486568247-6">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5486568247-8">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">family_circle</span><span class="p" data-group-id="5486568247-8">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Circles</span><span class="o">.</span><span class="n">create</span><span class="p" data-group-id="5486568247-9">(</span><span class="n">organizer</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5486568247-10">%{</span><span class="ss">named</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5486568247-11">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;family&quot;</span><span class="p" data-group-id="5486568247-11">}</span><span class="p" data-group-id="5486568247-10">}</span><span class="p" data-group-id="5486568247-9">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Circles</span><span class="o">.</span><span class="n">add_to_circles</span><span class="p" data-group-id="5486568247-12">(</span><span class="n">family</span><span class="p">,</span><span class="w"> </span><span class="n">family_circle</span><span class="p" data-group-id="5486568247-12">)</span></code></pre><h3 id="3-create-the-acl-boundary-preset" class="section-heading">
  <a href="#3-create-the-acl-boundary-preset" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">3. Create the ACL (boundary preset)</span>
</h3>
<p>This boundary will control access to the surprise party plans.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">alias</span><span class="w"> </span><span class="nc">Bonfire.Boundaries.Acls</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2372038674-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="p" data-group-id="2372038674-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Acls</span><span class="o">.</span><span class="n">simple_create</span><span class="p" data-group-id="2372038674-2">(</span><span class="n">organizer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Surprise party&quot;</span><span class="p" data-group-id="2372038674-2">)</span></code></pre><h3 id="4-grant-permissions" class="section-heading">
  <a href="#4-grant-permissions" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">4. Grant permissions</span>
</h3>
<p>Allow friends to discover, read, and respond to party plans, while family members can also edit details and send invitations. </p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">alias</span><span class="w"> </span><span class="nc">Bonfire.Boundaries.Grants</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Grants</span><span class="o">.</span><span class="n">grant</span><span class="p" data-group-id="5924525979-1">(</span><span class="n">friends_circle</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5924525979-2">[</span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p">,</span><span class="w"> </span><span class="ss">:reply</span><span class="p" data-group-id="5924525979-2">]</span><span class="p">,</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">organizer</span><span class="p" data-group-id="5924525979-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Grants</span><span class="o">.</span><span class="n">grant</span><span class="p" data-group-id="5924525979-3">(</span><span class="n">family_circle</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5924525979-4">[</span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p">,</span><span class="w"> </span><span class="ss">:reply</span><span class="p">,</span><span class="w"> </span><span class="ss">:edit</span><span class="p">,</span><span class="w"> </span><span class="ss">:invite</span><span class="p" data-group-id="5924525979-4">]</span><span class="p">,</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">organizer</span><span class="p" data-group-id="5924525979-3">)</span></code></pre><p>Prevent the birthday person from accessing any party information.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Grants</span><span class="o">.</span><span class="n">grant</span><span class="p" data-group-id="4926686670-1">(</span><span class="n">birthday_girl</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4926686670-2">[</span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p" data-group-id="4926686670-2">]</span><span class="p">,</span><span class="w"> </span><span class="no">false</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">organizer</span><span class="p" data-group-id="4926686670-1">)</span></code></pre><h3 id="5-post-about-the-party" class="section-heading">
  <a href="#5-post-about-the-party" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">5. Post about the party</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">alias</span><span class="w"> </span><span class="nc">Bonfire.Posts</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="7246425390-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">party_plan</span><span class="p" data-group-id="7246425390-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Posts</span><span class="o">.</span><span class="n">publish</span><span class="p" data-group-id="7246425390-2">(</span><span class="w">
        </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">organizer</span><span class="p">,</span><span class="w"> 
        </span><span class="ss">boundary</span><span class="p">:</span><span class="w"> </span><span class="n">boundary</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w">
        </span><span class="ss">post_attrs</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7246425390-3">%{</span><span class="ss">post_content</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7246425390-4">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Surprise party!&quot;</span><span class="p" data-group-id="7246425390-4">}</span><span class="p" data-group-id="7246425390-3">}</span><span class="p" data-group-id="7246425390-2">)</span></code></pre><h3 id="6-double-check-applied-boundaries" class="section-heading">
  <a href="#6-double-check-applied-boundaries" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">6. Double-check applied boundaries</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Boundaries</span><span class="o">.</span><span class="n">can?</span><span class="p" data-group-id="2827839681-1">(</span><span class="nc">List</span><span class="o">.</span><span class="n">first</span><span class="p" data-group-id="2827839681-2">(</span><span class="n">friends</span><span class="p" data-group-id="2827839681-2">)</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p">,</span><span class="w"> </span><span class="n">party_plan</span><span class="o">.</span><span class="n">id</span><span class="p" data-group-id="2827839681-1">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Boundaries</span><span class="o">.</span><span class="n">can?</span><span class="p" data-group-id="2827839681-3">(</span><span class="nc">List</span><span class="o">.</span><span class="n">first</span><span class="p" data-group-id="2827839681-4">(</span><span class="n">family</span><span class="p" data-group-id="2827839681-4">)</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="ss">:invite</span><span class="p">,</span><span class="w"> </span><span class="n">party_plan</span><span class="o">.</span><span class="n">id</span><span class="p" data-group-id="2827839681-3">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Boundaries</span><span class="o">.</span><span class="n">can?</span><span class="p" data-group-id="2827839681-5">(</span><span class="n">birthday_girl</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="n">party_plan</span><span class="o">.</span><span class="n">id</span><span class="p" data-group-id="2827839681-5">)</span><span class="w">
</span><span class="no">false</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Boundaries</span><span class="o">.</span><span class="n">load_pointer</span><span class="p" data-group-id="2827839681-6">(</span><span class="n">party_plan</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">birthday_girl</span><span class="p" data-group-id="2827839681-6">)</span><span class="w">
</span><span class="no">nil</span></code></pre><p>By following these steps, the organizer can effectively manage access to ensure the birthday girl cannot see the party plans, while friends and family can.</p>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="database.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Bonfire's Database - an intro
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="just.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Just commands
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Bonfire.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
